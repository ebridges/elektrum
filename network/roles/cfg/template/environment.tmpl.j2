# Below variables are auto-generated from network/cfg
# Defaults are configured via network/group_vars
# run `cd network && ./run.sh [development|staging|production]` to update

### Expose current environment as a variable.
ENVIRONMENT='{{ operating_env }}'

### Contact info used by Django's AdminEmailHandler
ADMIN_CONTACT_NAME='{{ admin_contact_name }}'
ADMIN_CONTACT_EMAIL='{{ admin_contact_email }}'

### Autho token for monitoring Service
SENTRY_AUTH_TOKEN='{{ sentry_auth_token }}'

### Application name (used for info purposes)
SERVICE_NAME='{{ service_name }}'

### Django config
DJANGO_DEBUG_ENABLED='{{django_debug_enabled}}'
DJANGO_SECRET_KEY='{{django_secret_key}}'
DJANGO_ALLOWED_HOSTS='{{django_allowed_hosts}}'

## Email Configuration
DJANGO_EMAIL_BACKEND='{{django_email_backend}}'

### AWS Info
AWS_REGION='{{ aws_region }}'
HTTPS_CERTIFICATE_ARN='{{ https_certificate_arn }}'

### Database Connect Info
DB_HOSTNAME='{{ db_endpoint_url }}'
DB_PORT_NUM='{{ db_port_number }}'
DB_NAME='{{ rds_database_name }}'
DB_USERNAME='{{ rds_master_username }}'
DB_PASSWORD='{{ rds_master_password }}'

## Network configuration
VPC_PRIVATE_SUBNET_IDS='{{ private_subnet_ids|join(',') }}'
VPC_NAT_SECURITY_GROUP_IDS='{{ nat_security_group_id }}'
VPC_PUBLIC_SUBNET_IDS='{{ public_subnet_ids|join(',') }}'
VPC_ID='{{ vpc_id }}'
VPN_SERVER_CERTIFICATE_ARN='{{ vpn_certificate_arn }}'
VPN_CLIENT_CA_CERTIFICATE_ARN='{{ vpn_client_ca_certificate_arn }}'

## S3 Buckets
MEDIA_UPLOAD_BUCKET_NAME='{{ media_upload_bucket_name }}'
MEDIA_THUMBS_BUCKET_NAME='{{ media_thumbnail_bucket_name }}'
STATIC_FILES_BUCKET_NAME='{{ static_files_bucket_name }}'

## Application domain names
APPLICATION_DOMAIN_NAME='{{ application_domain_name }}'
MEDIA_STORAGE_CNAME='{{ media_cname }}'
STATIC_DOMAIN_NAME='{{ static_cname }}'
THUMBNAIL_DOMAIN_NAME='{{ thumbnail_cname }}'

## Media Processor Deployment Configuration
MEDIA_PROCESSOR_ARTIFACT_BUCKET_NAME='{{ media_processor_artifact_bucket_name }}'
MEDIA_PROCESSOR_LAMBDA_NAME='{{ media_processor_lambda_name }}'
MEDIA_PROCESSOR_LAMBDA_ARN='{{ media_processor_lambda_arn }}'
MEDIA_PROCESSOR_LAMBDA_HANDLER='{{ media_processor_lambda_handler }}'
MEDIA_PROCESSOR_DESCRIPTION='{{ media_processor_description }}'
MEDIA_PROCESSOR_EXECUTION_ROLE_ARN='{{ media_processor_role_arn }}'
MEDIA_PROCESSOR_SUBNET_IDS='{{ media_processor_subnet_ids }}'
MEDIA_PROCESSOR_SECURITY_GROUPS='{{ nat_security_group_id }}'
MEDIA_PROCESSOR_MEMORY_SIZE='{{ media_processor_memory_size }}'
MEDIA_PROCESSOR_TIMEOUT='{{ media_processor_connection_timeout }}'
MEDIA_PROCESSOR_TAGS='{{ media_processor_tags }}'
MEDIA_PROCESSOR_ENVIRONMENT='{{ media_processor_env }}'
MEDIA_PROCESSOR_RUNTIME='{{ media_processor_runtime }}'

## Application Service Deployment Configuration
APPLICATION_SERVICE_LAMBDA_NAME='{{ application_service_lambda_name }}'
APPLICATION_SERVICE_DESCRIPTION='{{ application_service_description }}'
APPLICATION_SERVICE_LAMBDA_HANDLER='{{ application_service_lambda_handler }}'
APPLICATION_SERVICE_ARTIFACT_BUCKET_NAME='{{ application_service_artifact_bucket_name }}'
APPLICATION_SERVICE_SUBNET_IDS='{{ application_service_subnet_ids }}'
APPLICATION_SERVICE_SECURITY_GROUPS='{{ nat_security_group_id }}'
APPLICATION_SERVICE_EXECUTION_ROLE_ARN='{{ application_service_execution_role_arn }}'
APPLICATION_SERVICE_INTEGRATION_ROLE_ARN='{{ application_service_integration_role_arn }}'
APPLICATION_SERVICE_API_NAME='{{ application_service_lambda_name }}-api'
APPLICATION_SERVICE_API_DEPLOY_STAGE='{{ operating_env }}'
APPPICATION_SERVICE_API_DOMAIN_NAME='{{ application_domain_name }}'
APPLICATION_SERVICE_HTTPS_CERT_ARN='{{ https_certificate_arn }}'
APPLICATION_SERVICE_TAGS='Name={{ service_name }}-{{ operating_env }};Service={{ service_name }};Environment={{ operating_env }}'
APPLICATION_SERVICE_ENVIRONMENT={{ application_service_env }}
APPLICATION_SERVICE_MEMORY_SIZE={{ application_service_memory_size }}
APPLICATION_SERVICE_TIMEOUT={{ application_service_connection_timeout }}
APPLICATION_SERVICE_RUNTIME={{ application_service_runtime }}

## Thumbnail Service Deployment Configuration
THUMBNAIL_SERVICE_LAMBDA_NAME='{{ thumbnail_service_lambda_name }}'
THUMBNAIL_SERVICE_DESCRIPTION='{{ thumbnail_service_description }}'
THUMBNAIL_SERVICE_LAMBDA_HANDLER='{{ thumbnail_service_lambda_handler }}'
THUMBNAIL_SERVICE_ARTIFACT_BUCKET_NAME='{{ thumbnail_service_artifact_bucket_name }}'
THUMBNAIL_SERVICE_SUBNET_IDS='{{ thumbnail_service_subnet_ids }}'
THUMBNAIL_SERVICE_SECURITY_GROUPS='{{ nat_security_group_id }}'
THUMBNAIL_SERVICE_EXECUTION_ROLE_ARN='{{ thumbnail_service_execution_role_arn }}'
THUMBNAIL_SERVICE_INTEGRATION_ROLE_ARN='{{ thumbnail_service_integration_role_arn }}'
THUMBNAIL_SERVICE_API_NAME='{{ thumbnail_service_lambda_name }}-api'
THUMBNAIL_SERVICE_API_DEPLOY_STAGE='{{ operating_env }}'
THUMBNAIL_SERVICE_API_DOMAIN_NAME='{{ thumbnail_cname }}'
THUMBNAIL_SERVICE_HTTPS_CERT_ARN='{{ https_certificate_arn }}'
THUMBNAIL_SERVICE_TAGS='Name={{ thumbnail_service_lambda_name }};Service={{ service_name }};Environment={{ operating_env }}'
THUMBNAIL_SERVICE_ENVIRONMENT={{ thumbnail_service_env }}
THUMBNAIL_SERVICE_MEMORY_SIZE={{ thumbnail_service_memory_size }}
THUMBNAIL_SERVICE_TIMEOUT={{ thumbnail_service_connection_timeout }}
THUMBNAIL_SERVICE_RUNTIME={{ thumbnail_service_runtime }}
THUMBNAIL_SERVICE_BINARY_TYPES='{{ thumbnail_service_binary_types }}'
THUMBNAIL_SERVICE_RESPONSE_MODELS='{{ thumbnail_service_response_models }}'
THUMBNAIL_SERVICE_API_DESCRIPTION='{{ thumbnail_service_api_description }}'
